{
  "type": "object",
  "additionalProperties": true,
  "properties": {
    "name": {
      "type": "string"
    },
    "age": {
      "type": "integer"
    }
  },
  "allOf": [
    {
      "if": {
        "gt": {
          "age": 20
        },
        "lt": {
          "age": 50
        }
      },
      "then": {
        "set": {
          "is_stronger": true
        }
      }
    },
    {
      "if": {
        "gt": {
          "age": 5
        },
        "lt": {
          "age": 15
        }
      },
      "then": {
        "set": {
          "is_child": true
        }
      }
    },
    {
      "if": {
        "eq": {
          "name": "root"
        },
        "not": {
          "ipIn": {
            "client_ip": ["1.1.1.1","10.0.0.0/8"]
          }
        }
      },
      "then": {
        "error": "root ip is not allowed"
      }

    }
  ]
}