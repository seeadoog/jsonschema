{
  "type": "object",
  "additionalProperties": true,
  "properties": {
    "name": {
      "type": "string"
    },
    "age": {
      "type": "integer"
    }
  },
  "allOf": [
    {
      "if": {
        "gt": {
          "age": 20
        },
        "lt": {
          "age": 50
        }
      },
      "then": {
        "set": {
          "is_stronger": true
        }
      }
    },
    {
      "if": {
        "gt": {
          "age": 5
        },
        "lt": {
          "age": 15
        }
      },
      "then": {
        "set": {
          "is_child": true
        }
      }
    },
    {
      "if": {
        "not": {
          "eq": {
            "key": "xxxxxxxxx"
          }
        }
      },
      "then": {
        "error": "invalid request"
      },
      "else": {
        "set": {
            "xxxx": "xxxx"
        }
      }
    },
    {
      "if": {
        "eq": {
          "name": "root"
        },
        "not": {
          "ipIn": {
            "client_ip": ["192.168.0.0/16"]
          }
        }
      },
      "then": {
        "error": "root ip is not allowed",
        "set": {
          "res\\.code": 403,
          "res.message": "ip not allowed",
          "res.time": ["time.format()","time.now()","2006-01-02 15:04:05 CST"],
          "res.sid": "rand.new16()"
        }
      }
    }
  ]
}